<script src="javascript/image-picker.js"></script>

<div id="profile">
    <button id="save_profile_button">Save</button>
    
	<h1>Settings</h1>
    
    <div id="picture_selector">
        <select class="image-picker show-html">
            <option data-img-src="images/user.jpg" value="1">1</option>
            <option data-img-src="images/user.jpg" value="2">2</option>
            <option data-img-src="images/user.jpg" value="3">3</option>
            <option data-img-src="images/user.jpg" value="4">4</option>
            <option data-img-src="images/user.jpg" value="5">5</option>
        </select>
    </div>
    
    <div id="about_you">
        <div id="slider_label">
            <p id="low_label">Not at all</p>
            <p id="high_label">Totally!</p>    
        </div>
        
        <div class="question_set">
            <p id="question">Are you a party animal?</p>
            <span id="slider1">3</span>
        </div>

        <div class="question_set">
            <p id="question">Are you an intellectual?</p>
            <span id="slider2">3</span>
        </div>
            
        <div class="question_set">
            <p id="question">Do you love crude humor?</p>
            <span id="slider3">3</span>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function() {
        // setup image-picker
        $("select").val($.cookie("profile_pic"));
        $("select").imagepicker();
        
        var j = 1;
        // setup sliders
        $(".question_set > span").each(function() {
            var value = $.cookie("slider" + j);
            if (value == undefined) {
                value = "3";
                $.cookie("slider" + j, "3");
            }
            
            var value = parseInt( value, 10 );
            $(this).empty().slider({
                value: value,
                orientation: "horizontal",
                animate: true,
                min: 1,
                max: 5,
                step: 1,
                range: "min",
            });
            
            j++;
        });
    });
    
    $("#save_profile_button").click(function(evt) {
        $.cookie("profile_pic", $("select").val());
        $.cookie("slider1", ""+$("#slider1").slider("value"));
        $.cookie("slider2", ""+$("#slider2").slider("value"));
        $.cookie("slider3", ""+$("#slider3").slider("value"));
        
        window.location.href = "index.html?page=expats";
    });
</script>
<script src="javascript/image-picker.js"></script>

<div id="profile">
	<h1>Settings</h1>
    
    <div id="picture_selector">
        <select class="image-picker show-html">
            <option data-img-src="images/user1.jpg" value="1">1</option>
            <option data-img-src="images/user2.jpg" value="2">2</option>
            <option data-img-src="images/user3.jpg" value="3">3</option>
            <option data-img-src="images/user4.jpg" value="4">4</option>
            <option data-img-src="images/user5.jpg" value="5">5</option>
        </select>
    </div>
    
    <div id="about_you">
        <div id="slider_label">
            <p id="low_label">Not at all</p>
            <p id="high_label">Totally!</p>    
        </div>
        
        <div class="question_set">
            <p class="question">Are you a party animal?</p>
            <span id="slider1">3</span>
        </div>

        <div class="question_set">
            <p class="question">Are you an intellectual?</p>
            <span id="slider2">3</span>
        </div>
            
        <div class="question_set">
            <p class="question">Do you love crude humor?</p>
            <span id="slider3">3</span>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function() {
        $.cookie("username", "Claire");
        // setup image-picker
        $("select").val($.cookie("profile_pic"));
        $("select").imagepicker({
            changed: function(previous, current) {
                $.cookie("profile_pic", current);
                $("#user_thumb").attr("style", "background: url(images/user" + $.cookie("profile_pic") + "_small.jpg) no-repeat center center");
            },
        });
        
        var j = 1;
        // setup sliders
        $(".question_set > span").each(function() {
            var value = $.cookie("slider" + j);
            if (value == undefined) {
                value = "3";
                $.cookie("slider" + j, "3");
            }
            
            var value = parseInt( value, 10 );
            $(this).empty().slider({
                value: value,
                orientation: "horizontal",
                animate: true,
                min: 1,
                max: 5,
                step: 1,
                range: "min",
                change: function(event, ui) {
                    $.cookie(event.target.id, ui.value);
                },
            });
            
            j++;
        });
    });
</script>